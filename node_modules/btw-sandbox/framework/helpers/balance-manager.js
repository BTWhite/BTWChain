"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),bignum=require("bignumber"),BalanceManager=function(){function e(a){(0,_classCallCheck3.default)(this,e),this.sdb=a}return(0,_createClass3.default)(e,[{key:"get",value:function(e,a){var s=this.sdb.get("Balance",{address:e,currency:a}),r=s?s.balance:"0";return bignum(r)}},{key:"increase",value:function(e,a,s){if(!bignum(s).eq(0)){var r={address:e,currency:a},l=this.sdb.get("Balance",r);if(null!==l){var n=bignum(l.balance).plus(s);this.sdb.update("Balance",{balance:n.toString()},r)}else r.balance=s,this.sdb.create("Balance",r)}}},{key:"decrease",value:function(e,a,s){this.increase(e,a,"-"+s)}},{key:"transfer",value:function(e,a,s,r){this.decrease(s,e,a),this.increase(r,e,a)}}]),e}();module.exports=BalanceManager;