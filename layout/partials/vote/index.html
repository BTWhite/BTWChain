<!--/ VOTE PAGE -->
<div id="vote" ng-controller="voteCtrl" ng-init="init()">
    <div class="card card-border mbottom">
        <div class="card-block to-tabs">
            <ul id="tabs" class="nav nav-tabs">
                <li class="nav-item active" ng-class="{'active':letin}" ng-click="letinchange()">
                    <a class="nav-link" style="overflow: hidden;"><i class="tabimg pull-left os-icon os-icon-ui-21" style="margin-right: 15px;"></i><span class="pull-left ecllip">{{'DELEGATE_LIST' | translate}}</span></a>
                </li>
                <li class="nav-item" ng-class="{'active':mgvotecord}" ng-click="mgvotecordchange()">
                    <a class="nav-link" style="overflow: hidden;"><i class="tabimg pull-left os-icon os-icon-tasks-checked" style="margin-right: 15px;"></i><span class="pull-left ecllip">{{'VOTE_RECORD' | translate}}</span></a>
                </li>
                <li class="nav-item" ng-class="{'active':hosting}" ng-click="hostingchange()">
                    <a class="nav-link" style="overflow: hidden;"><i class="tabimg pull-left os-icon os-icon-calendar-time" style="margin-right: 15px;"></i><span class="pull-left ecllip">{{'MY_VOTERS' | translate}}</span></a>
                </li>
            </ul>
        </div>
    </div>
    <div class="card card-border mbottom">
        <div class="card-block" style="padding: 1.25rem 1.25rem 0 1.25rem;">
            <div class="text-center animate-spin" style="margin-bottom: 20px;" ng-hide="!progress"><i style="font-size: 50px;color: #7a96b3;" class="os-icon os-icon-grid-18"></i></div>
            <div ng-show="letin">
                <div ng-show="table" class="ng-hide">
                    <div style="overflow: hidden;height: 60px;">
                        <h5 class="pull-left" style="margin-top: 10px;" translate="TOTAL_PEOPLES" translate-values="{ count: delegateCount }"></h5>
                        <div class="pull-right">
                            <button type="button" class="btn btn-info" ng-click="votetoShowInfo()">{{'VOTE' | translate}}
                            </button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table" ng-table="tableparams" template-pagination="custom/pager">
                            <thead>
                                <tr>
                                    <td></td>
                                    <td>{{'RANKING' | translate}}</td>
                                    <td>{{'DELEGATE' | translate}}</td>
                                    <td>{{'ADDRESS' | translate}}</td>
                                    <td>{{'PRODUCTIVITY' | translate}}</td>
                                    <td>{{'PRODUCED_NUMBER' | translate}}</td>
                                    <td>{{'APPROVAL' | translate}}</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="i in $data">
                                    <td>
                                        <div class="cell-both">
                                            <div class="vote-checked">
                                                <input type="checkbox" class="checkbox" ng-disabled="i.voted" ng-checked="i.voted || (i.username | saveCheckfilter)" ng-click="checkitem(i)"/>
                                                <label class="vote-label"></label>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cell-both">
                                            <b class="td-name hide">{{'RANKING' | translate}}: </b>{{i.rate }}
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cell-both">
                                            <b class="td-name hide">{{'DELEGATE' | translate}}: </b>{{i.username}}
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cell-both">
                                            <b class="td-name hide">{{'ADDRESS' | translate}}: </b><i ng-click="showaccountdetailInfo(i.address)">{{i.address}}</i>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cell-both">
                                            <b class="td-name hide">{{'PRODUCTIVITY' | translate}}: </b>{{i.productivity}}%
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cell-both">
                                            <b class="td-name hide">{{'PRODUCED_NUMBER' | translate}}: </b>{{i.producedblocks}}
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cell-both">
                                            <b class="td-name hide">{{'APPROVAL' | translate}}: </b>{{i.approval}}%
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div ng-show="mgvotecord">
                <div style="overflow: hidden;height: 60px;">
                    <h5 class="pull-left" style="margin-top: 10px;" translate="TOTAL_PEOPLES" translate-values="{ count: myvoteCount }"></h5>
                    <div class="pull-right">
                        <button type="button" class="btn btn-danger" ng-click="votetoShowInfo(1)">{{'DELETE' |
                            translate}}
                        </button>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table" ng-table="tableparams2" template-pagination="custom/pager">
                        <thead>
                            <tr>
                                <td></td>
                                <td>{{'RANKING' | translate}}</td>
                                <td>{{'DELEGATE' | translate}}</td>
                                <td>{{'ADDRESS' | translate}}</td>
                                <td>{{'PRODUCTIVITY' | translate}}</td>
                                <td>{{'PRODUCED_NUMBER' | translate}}</td>
                                <td>{{'APPROVAL' | translate}}</td>
                            </tr>
                        </thead>
                        <tr ng-repeat="i in $data">
                            <td>
                                <div class="cell-both">
                                    <div class="vote-checked">
                                        <input type="checkbox" class="checkbox" ng-checked="(i.username | saveCodeFilter )" ng-click="checkitem2(i)"/>
                                        <label class="vote-label"></label>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="cell-both">
                                    <b class="td-name hide">{{'RANKING' | translate}}: </b>{{i.rate}}
                                </div>
                            </td>
                            <td>
                                <div class="cell-both">
                                    <b class="td-name hide">{{'DELEGATE' | translate}}: </b>{{i.username}}
                                </div>
                            </td>
                            <td>
                                <div class="cell-both">
                                    <b class="td-name hide">{{'ADDRESS' | translate}}: </b><i ng-click="showaccountdetailInfo(i.address)">{{i.address}}</i>
                                </div>
                            </td>
                            <td>
                                <div class="cell-both">
                                    <b class="td-name hide">{{'PRODUCTIVITY' | translate}}: </b>{{i.productivity}}%
                                </div>
                            </td>
                            <td>
                                <div class="cell-both">
                                    <b class="td-name hide">{{'PRODUCED_NUMBER' | translate}}: </b>{{i.producedblocks}}
                                </div>
                            </td>
                            <td>
                                <div class="cell-both">
                                    <b class="td-name hide">{{'APPROVAL' | translate}}: </b>{{i.approval}}%
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div ng-show="hosting">
                <div style="overflow: hidden;height: 60px;">
                    <h5 class="pull-left" style="margin-top: 10px;" translate="TOTAL_PEOPLES" translate-values="{ count: totalVoter }"></h5>
                </div>
                <div class="table-responsive">
                    <table class="table" ng-table="tableparams3" template-pagination="custom/pager">
                        <thead>
                            <tr>
                                <td>{{'ADDRESS' | translate}}</td>
                                <td>{{'USERNAME' | translate}}</td>
                                <td>{{'WEIGHT' | translate}}</td>
                            </tr>
                        </thead>
                        <tr ng-repeat="i in $data"  >
                            <td>
                                <div class="cell-both">
                                    <b class="td-name hide">{{'ADDRESS' | translate}}: </b>{{i.address}}
                                </div>
                            </td>
                            <td>
                                <div class="cell-both">
                                    <b class="td-name hide">{{'USERNAME' | translate}}: </b>{{i.username || 'Not detected'}}
                                </div>
                            </td>
                            <td>
                                <div class="cell-both">
                                    <b class="td-name hide">{{'WEIGHT' | translate}}: </b>{{i.weight}}%
                                </div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <script type="text/ng-template" id="custom/pager">
                <div style="width: fit-content;margin: auto;">
                    <nav aria-label="Page navigation">
                        <ul class="pagination">
                            <li class="page-item" ng-class="{'disabled': !page.active && !page.current, 'active': page.current}" ng-repeat="page in pages" ng-switch="page.type">
                                <a class="page-link" ng-switch-when="prev" ng-click="params.page(page.number)" href="" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                    <span class="sr-only">Previous</span>
                                </a>
                                <a class="page-link" ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a>
                                <a class="page-link" ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a>
                                <a class="page-link" ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a>
                                <a class="page-link" ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a>
                                <a class="page-link" ng-switch-when="next" ng-click="params.page(page.number)" href="" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </script>
        </div>
    </div>
</div>
<!--/ END: VOTE PAGE -->